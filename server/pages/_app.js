(()=>{var e={};e.id=636,e.ids=[636],e.modules={4155:(e,t,i)=>{"use strict";i.d(t,{AT:()=>o,Gk:()=>r,Pe:()=>l,Ph:()=>a,gU:()=>s});let s=288,r=464,a=4,l=100,o=2048},2348:(e,t,i)=>{"use strict";i.a(e,async(e,s)=>{try{i.d(t,{A:()=>p,h:()=>v});var r=i(8732),a=i(2015),l=i(5009),o=i(6770),u=i.n(o),n=i(4155),c=i(6839),d=e([c]);c=(d.then?(await d)():d)[0];let p=(0,a.createContext)({score:0,status:"ongoing",moveTiles:e=>{},getTiles:()=>[],startGame:()=>{}});function v({children:e}){let[t,i]=(0,a.useReducer)(c.A,c.u),s=(0,a.useCallback)(u()(e=>i({type:e}),1.05*n.Pe,{trailing:!1}),[i]);return(0,r.jsx)(p.Provider,{value:{score:t.score,status:t.status,getTiles:()=>t.tilesByIds.map(e=>t.tiles[e]),moveTiles:s,startGame:()=>{i({type:"reset_game"}),i({type:"create_tile",tile:{position:[0,1],value:2}}),i({type:"create_tile",tile:{position:[0,2],value:2}})}},children:e})}s()}catch(e){s(e)}})},1287:(e,t,i)=>{"use strict";i.a(e,async(e,s)=>{try{i.r(t),i.d(t,{default:()=>o});var r=i(8732),a=i(2348);i(2880);var l=e([a]);function o({Component:e,pageProps:t}){return(0,r.jsx)(a.h,{children:(0,r.jsx)(e,{...t})})}a=(l.then?(await l)():l)[0],s()}catch(e){s(e)}})},6839:(e,t,i)=>{"use strict";i.a(e,async(e,s)=>{try{i.d(t,{A:()=>h,u:()=>f});var r=i(6778),a=i.n(r),l=i(8894),o=i.n(l),u=i(5009),n=i.n(u),c=i(5068),d=i(4155),v=e([c]);function p(){let e=[];for(let t=0;t<d.Ph;t+=1)e[t]=Array(d.Ph).fill(void 0);return e}c=(v.then?(await v)():v)[0];let f={board:p(),tiles:{},tilesByIds:[],hasChanged:!1,score:0,status:"ongoing"};function h(e=f,t){switch(t.type){case"clean_up":{let t=a()(e.board).reduce((t,i)=>n()(i)?t:{...t,[i]:e.tiles[i]},{});return{...e,tiles:t,tilesByIds:Object.keys(t),hasChanged:!1}}case"create_tile":{let i=(0,c.uid)(),[s,r]=t.tile.position,a=JSON.parse(JSON.stringify(e.board));return a[r][s]=i,{...e,board:a,tiles:{...e.tiles,[i]:{id:i,...t.tile}},tilesByIds:[...e.tilesByIds,i]}}case"move_up":{let t=p(),i={},s=!1,{score:r}=e;for(let a=0;a<d.Ph;a++){let l,u=0;for(let c=0;c<d.Ph;c++){let d=e.board[c][a],v=e.tiles[d];if(!n()(d)){if(l?.value===v.value){r+=2*l.value,i[l.id]={...l,value:2*l.value},i[d]={...v,position:[a,u-1]},l=void 0,s=!0;continue}t[u][a]=d,i[d]={...v,position:[a,u]},l=i[d],o()(v.position,[a,u])||(s=!0),u++}}}return{...e,board:t,tiles:i,hasChanged:s,score:r}}case"move_down":{let t=p(),i={},s=!1,{score:r}=e;for(let a=0;a<d.Ph;a++){let l,u=d.Ph-1;for(let c=d.Ph-1;c>=0;c--){let d=e.board[c][a],v=e.tiles[d];if(!n()(d)){if(l?.value===v.value){r+=2*l.value,i[l.id]={...l,value:2*l.value},i[d]={...v,position:[a,u+1]},l=void 0,s=!0;continue}t[u][a]=d,i[d]={...v,position:[a,u]},l=i[d],o()(v.position,[a,u])||(s=!0),u--}}}return{...e,board:t,tiles:i,hasChanged:s,score:r}}case"move_left":{let t=p(),i={},s=!1,{score:r}=e;for(let a=0;a<d.Ph;a++){let l,u=0;for(let c=0;c<d.Ph;c++){let d=e.board[a][c],v=e.tiles[d];if(!n()(d)){if(l?.value===v.value){r+=2*l.value,i[l.id]={...l,value:2*l.value},i[d]={...v,position:[u-1,a]},l=void 0,s=!0;continue}t[a][u]=d,i[d]={...v,position:[u,a]},l=i[d],o()(v.position,[u,a])||(s=!0),u++}}}return{...e,board:t,tiles:i,hasChanged:s,score:r}}case"move_right":{let t=p(),i={},s=!1,{score:r}=e;for(let a=0;a<d.Ph;a++){let l,u=d.Ph-1;for(let c=d.Ph-1;c>=0;c--){let d=e.board[a][c],v=e.tiles[d];if(!n()(d)){if(l?.value===v.value){r+=2*l.value,i[l.id]={...l,value:2*l.value},i[d]={...v,position:[u+1,a]},l=void 0,s=!0;continue}t[a][u]=d,i[d]={...e.tiles[d],position:[u,a]},l=i[d],o()(v.position,[u,a])||(s=!0),u--}}}return{...e,board:t,tiles:i,hasChanged:s,score:r}}case"reset_game":return f;case"update_status":return{...e,status:t.status};default:return e}}s()}catch(e){s(e)}})},2880:()=>{},6778:e=>{"use strict";e.exports=require("lodash/flattenDeep")},8894:e=>{"use strict";e.exports=require("lodash/isEqual")},5009:e=>{"use strict";e.exports=require("lodash/isNil")},6770:e=>{"use strict";e.exports=require("lodash/throttle")},2015:e=>{"use strict";e.exports=require("react")},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")},5068:e=>{"use strict";e.exports=import("uid")}};var t=require("../webpack-runtime.js");t.C(e);var i=t(t.s=1287);module.exports=i})();