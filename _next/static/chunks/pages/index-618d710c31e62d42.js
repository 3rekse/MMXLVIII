(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{8907:(e,t)=>{"use strict";t.Y=function(e,t){return e.split(",").map(function(e){var t=(e=e.trim()).match(r),s=t[1],o=t[2],a=t[3]||"",c={};return c.inverse=!!s&&"not"===s.toLowerCase(),c.type=o?o.toLowerCase():"all",a=a.match(/\([^\)]+\)/g)||[],c.expressions=a.map(function(e){var t=e.match(n),r=t[1].toLowerCase().match(i);return{modifier:r[1],feature:r[2],value:t[2]}}),c}).some(function(e){var r=e.inverse,n="all"===e.type||t.type===e.type;if(n&&r||!(n||r))return!1;var i=e.expressions.every(function(e){var r=e.feature,n=e.modifier,i=e.value,s=t[r];if(!s)return!1;switch(r){case"orientation":case"scan":return s.toLowerCase()===i.toLowerCase();case"width":case"height":case"device-width":case"device-height":i=l(i),s=l(s);break;case"resolution":i=c(i),s=c(s);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":i=a(i),s=a(s);break;case"grid":case"color":case"color-index":case"monochrome":i=parseInt(i,10)||1,s=parseInt(s,10)||0}switch(n){case"min":return s>=i;case"max":return s<=i;default:return s===i}});return i&&!r||!i&&r})};var r=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,n=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,i=/^(?:(min|max)-)?(.+)/,s=/(em|rem|px|cm|mm|in|pt|pc)?$/,o=/(dpi|dpcm|dppx)?$/;function a(e){var t,r=Number(e);return r||(r=(t=e.match(/^(\d+)\s*\/\s*(\d+)$/))[1]/t[2]),r}function c(e){var t=parseFloat(e);switch(String(e).match(o)[1]){case"dpcm":return t/2.54;case"dppx":return 96*t;default:return t}}function l(e){var t=parseFloat(e);switch(String(e).match(s)[1]){case"em":case"rem":return 16*t;case"cm":return 96*t/2.54;case"mm":return 96*t/2.54/10;case"in":return 96*t;case"pt":return 72*t;case"pc":return 72*t/12;default:return t}}},7918:(e,t,r)=>{"use strict";var n=r(8907).Y,i="undefined"!=typeof window?window.matchMedia:null;function s(e,t,r){var s,o=this;function a(e){o.matches=e.matches,o.media=e.media}i&&!r&&(s=i.call(window,e)),s?(this.matches=s.matches,this.media=s.media,s.addListener(a)):(this.matches=n(e,t),this.media=e),this.addListener=function(e){s&&s.addListener(e)},this.removeListener=function(e){s&&s.removeListener(e)},this.dispose=function(){s&&s.removeListener(a)}}e.exports=function(e,t,r){return new s(e,t,r)}},2022:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(2514)}])},2514:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>K});var n=r(4848),i=r(3368),s=r.n(i),o=r(6540),a=r(6599),c=r.n(a),l=r(7918),u=r.n(l),d=/[A-Z]/g,h=/^ms-/,m={};function p(e){return"-"+e.toLowerCase()}let f=function(e){if(m.hasOwnProperty(e))return m[e];var t=e.replace(d,p);return m[e]=h.test(t)?"-"+t:t};var _=r(5556),v=r.n(_);let x=v().oneOfType([v().string,v().number]),w={all:v().bool,grid:v().bool,aural:v().bool,braille:v().bool,handheld:v().bool,print:v().bool,projection:v().bool,screen:v().bool,tty:v().bool,tv:v().bool,embossed:v().bool},{type:b,...y}={orientation:v().oneOf(["portrait","landscape"]),scan:v().oneOf(["progressive","interlace"]),aspectRatio:v().string,deviceAspectRatio:v().string,height:x,deviceHeight:x,width:x,deviceWidth:x,color:v().bool,colorIndex:v().bool,monochrome:v().bool,resolution:x,type:Object.keys(w)},g={minAspectRatio:v().string,maxAspectRatio:v().string,minDeviceAspectRatio:v().string,maxDeviceAspectRatio:v().string,minHeight:x,maxHeight:x,minDeviceHeight:x,maxDeviceHeight:x,minWidth:x,maxWidth:x,minDeviceWidth:x,maxDeviceWidth:x,minColor:v().number,maxColor:v().number,minColorIndex:v().number,maxColorIndex:v().number,minMonochrome:v().number,maxMonochrome:v().number,minResolution:x,maxResolution:x,...y};var j={all:{...w,...g}};let k=e=>`not ${e}`,E=(e,t)=>{let r=f(e);return("number"==typeof t&&(t=`${t}px`),!0===t)?r:!1===t?k(r):`(${r}: ${t})`},C=e=>e.join(" and "),L=e=>{let t=[];return Object.keys(j.all).forEach(r=>{let n=e[r];null!=n&&t.push(E(r,n))}),C(t)},O=(0,o.createContext)(void 0),N=e=>e.query||L(e),S=e=>{if(e)return Object.keys(e).reduce((t,r)=>(t[f(r)]=e[r],t),{})},I=()=>{let e=(0,o.useRef)(!1);return(0,o.useEffect)(()=>{e.current=!0},[]),e.current},R=e=>{let t=(0,o.useContext)(O),r=()=>S(e)||S(t),[n,i]=(0,o.useState)(r);return(0,o.useEffect)(()=>{let e=r();!function(e,t){if(e===t)return!0;if(!e||!t)return!1;let r=Object.keys(e),n=Object.keys(t),i=r.length;if(n.length!==i)return!1;for(let n=0;n<i;n++){let i=r[n];if(e[i]!==t[i]||!Object.prototype.hasOwnProperty.call(t,i))return!1}return!0}(n,e)&&i(e)},[e,t]),n},T=e=>{let t=()=>N(e),[r,n]=(0,o.useState)(t);return(0,o.useEffect)(()=>{let e=t();r!==e&&n(e)},[e]),r},P=(e,t)=>{let r=()=>u()(e,t||{},!!t),[n,i]=(0,o.useState)(r),s=I();return(0,o.useEffect)(()=>{if(s){let e=r();return i(e),()=>{e&&e.dispose()}}},[e,t]),n},A=e=>{let[t,r]=(0,o.useState)(e.matches);return(0,o.useEffect)(()=>{let t=e=>{r(e.matches)};return e.addListener(t),r(e.matches),()=>{e.removeListener(t)}},[e]),t},D=(e,t,r)=>{let n=R(t),i=T(e);if(!i)throw Error("Invalid or missing MediaQuery!");let s=P(i,n),a=A(s),c=I();return(0,o.useEffect)(()=>{c&&r&&r(a)},[a]),(0,o.useEffect)(()=>()=>{s&&s.dispose()},[]),a};var W=r(4362),Y=r(8763),M=r.n(Y);function X(e){let{position:t,value:r}=e,i=D({minWidth:512})?W.Gk:W.gU,[s,a]=(0,o.useState)(1),c=function(e){let t=(0,o.useRef)(null);return(0,o.useEffect)(()=>{t.current=e}),t.current}(r)!==r;(0,o.useEffect)(()=>{c&&(a(1.1),setTimeout(()=>a(1),W.Pe))},[c]);let l={left:t[0]/W.Ph*i,top:t[1]/W.Ph*i,transform:"scale(".concat(s,")"),zIndex:r};return(0,n.jsx)("div",{className:"".concat(M().tile," ").concat(M()["tile".concat(r)]),style:l,children:r})}var F=r(7154);function G(e){let{children:t,onSwipe:r}=e,i=(0,o.useRef)(null),[s,a]=(0,o.useState)(0),[c,l]=(0,o.useState)(0),u=(0,o.useCallback)(e=>{var t;(null===(t=i.current)||void 0===t?void 0:t.contains(e.target))&&(e.preventDefault(),a(e.touches[0].clientX),l(e.touches[0].clientY))},[]),d=(0,o.useCallback)(e=>{var t;if(null===(t=i.current)||void 0===t?void 0:t.contains(e.target))e.preventDefault(),r({deltaX:e.changedTouches[0].clientX-s,deltaY:e.changedTouches[0].clientY-c}),a(0),l(0)},[s,c,r]);return(0,o.useEffect)(()=>(window.addEventListener("touchstart",u,{passive:!1}),window.addEventListener("touchend",d,{passive:!1}),()=>{window.removeEventListener("touchstart",u),window.removeEventListener("touchend",d)}),[u,d]),(0,n.jsx)("div",{ref:i,children:t})}var H=r(6028),$=r.n(H);function U(e){let{heading:t="You won!",type:r=""}=e,{startGame:i}=(0,o.useContext)(F.A);return(0,n.jsx)("div",{className:"".concat($().splash," ").concat("won"===r&&$().win),children:(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{children:t}),(0,n.jsx)("button",{className:$().button,onClick:i,children:"Play again"})]})})}function q(){let{getTiles:e,moveTiles:t,startGame:r,status:i}=(0,o.useContext)(F.A),s=(0,o.useRef)(!1),a=(0,o.useCallback)(e=>{switch(e.preventDefault(),e.code){case"ArrowUp":t("move_up");break;case"ArrowDown":t("move_down");break;case"ArrowLeft":t("move_left");break;case"ArrowRight":t("move_right")}},[t]),l=(0,o.useCallback)(e=>{let{deltaX:r,deltaY:n}=e;Math.abs(r)>Math.abs(n)?r>0?t("move_right"):t("move_left"):n>0?t("move_down"):t("move_up")},[t]);return(0,o.useEffect)(()=>{!1===s.current&&(r(),s.current=!0)},[r]),(0,o.useEffect)(()=>(window.addEventListener("keydown",a),()=>{window.removeEventListener("keydown",a)}),[a]),(0,n.jsx)(G,{onSwipe:l,children:(0,n.jsxs)("div",{className:c().board,children:["won"===i&&(0,n.jsx)(U,{heading:"You won!",type:"won"}),"lost"===i&&(0,n.jsx)(U,{heading:"You lost!"}),(0,n.jsx)("div",{className:c().tiles,children:e().map(e=>(0,n.jsx)(X,{...e},"".concat(e.id)))}),(0,n.jsx)("div",{className:c().grid,children:(()=>{let e=[];for(let t=0;t<16;t+=1)e.push((0,n.jsx)("div",{className:c().cell},t));return e})()})]})})}var z=r(9821),B=r.n(z);function V(){let{score:e}=(0,o.useContext)(F.A);return(0,n.jsxs)("div",{className:B().score,children:["Score",(0,n.jsx)("div",{children:e})]})}var J=r(3019),Z=r.n(J);function K(){return(0,n.jsxs)("div",{className:Z().twenty48,style:{backgroundColor:"black",color:"white"},children:[(0,n.jsxs)(s(),{children:[(0,n.jsx)("title",{children:"MMXLVIII"}),(0,n.jsx)("meta",{name:"description",content:"Fully-functional 2048 game built in NextJS and TypeScript. Including animations."}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,n.jsx)("link",{rel:"icon",href:"ccla.svg"}),(0,n.jsx)("link",{rel:"apple-touch-icon",sizes:"180x180",href:"ccla.svg"})]}),(0,n.jsxs)("header",{children:[(0,n.jsx)("h1",{children:"MMXLVIII"}),(0,n.jsx)(V,{})]}),(0,n.jsx)("main",{children:(0,n.jsx)(q,{})})]})}},6599:e=>{e.exports={board:"board_board__TjSVF",grid:"board_grid__GIY3k",cell:"board_cell__Wr6bs",tiles:"board_tiles__Lk_FR"}},3019:e=>{e.exports={twenty48:"styles_twenty48__a9Pvt",socials:"styles_socials__KxPC6"}},9821:e=>{e.exports={score:"score_score__1m_x7"}},6028:e=>{e.exports={splash:"splash_splash__wscpw",win:"splash_win__NqdN4",button:"splash_button__wqzBj"}},8763:e=>{e.exports={tile:"tile_tile__RJuk6",tile8:"tile_tile8__vGG9p",tile16:"tile_tile16__TxSFo",tile32:"tile_tile32__J2THy",tile64:"tile_tile64__P76i2",tile128:"tile_tile128__BSNL4",tile256:"tile_tile256__OjOGa",tile512:"tile_tile512__Y9BXN",tile1024:"tile_tile1024__rbna3",tile2048:"tile_tile2048__GrvW_",tile4096:"tile_tile4096__UnU77",tile8192:"tile_tile8192__PLhSD",tile2:"tile_tile2__zyAZi",tile4:"tile_tile4__I7Gv4"}},3368:(e,t,r)=>{e.exports=r(6085)},2694:(e,t,r)=>{"use strict";var n=r(6925);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,s,o){if(o!==n){var a=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return r.PropTypes=r,r}},5556:(e,t,r)=>{e.exports=r(2694)()},6925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(2022)),_N_E=e.O()}]);